function sendAjax(b,c,f,e,d,a){jq.ajax({url:base_url+c,type:b,method:f,processData:true,data:{data:d},cache:false,success:function(g){ajaxSuccess(g,a)},error:function(i,g,h){}})}function ajaxSuccess(d,b){if(b==="calendar"){var c="<ul id='event-list'>";jQuery.each(d.events,function(e,f){c+="<a class='edit_event'><li class='event_title'>";c+=f[0].title;c+="</li></a>";c+="<a class='delete_event'>";c+="<span class='glyphicon glyphicon-remove events_delete'></span>";c+="</a>";$("#eventtext").html(c);$(".edit_event").attr("href",base_url+"events/edit/"+f[0].id);$(".delete_event").attr("data-eventid",f[0].id)});c+="</ul>"}else{if(b==="missionlist-search"){missionTableInsert(d)}else{if(b==="event_delete"){window.location.replace(d.link)}else{if(b==="edit_event"){window.location.replace(d.link)}else{if(b==="structure"){if(d.item){d=d.item.product_categories.split(",")}else{d=[]}jq(d).each(function(e,f){jq("#cat_"+f).show()})}else{if(b==="possible_superiors"){if(d.superiors){d.superiors=jq.map(d.superiors,function(f,e){f.key=e;return[f]});var a="";jq(d.superiors).each(function(e,f){a+='<option value="'+f.id+'">'+f.value+"</option>"});jq('select[name="superior_id"]').html(a)}}else{if(b==="company"){d=d.item;jq('input[name="company_name"]').val(d.company_name);jq('input[name="tax_no"]').val(d.tax_no);jq('input[name="fundation_date"]').val(d.fundation_date);jq('input[name="reg_office_postcode"]').val(d.reg_office_postcode);jq('input[name="reg_office_town"]').val(d.reg_office_town);jq('input[name="reg_office_street"]').val(d.reg_office_street);jq('input[name="representative_name"]').val(d.representative_name);jq('input[name="representative_birth_date"]').val(d.representative_birth_date);jq('input[name="representative_id_card_no"]').val(d.representative_id_card_no);jq('input[name="representative_address"]').val(d.representative_address);jq('input[name="teaor"]').val(d.teaor);jq('input[name="bank_account_no"]').val(d.bank_account_no);jq('input[name="reg_no"]').val(d.reg_no);jq('input[name="phone"]').val(d.phone);jq('input[name="company_email"]').val(d.email)}}}}}}}}var jq=jQuery.noConflict();jq(function(b){if(typeof tablesorter!=="undefined"&&b.isFunction(tablesorter)){b(".tablesorter").tablesorter({widthFixed:true,widgets:["zebra"]});b(".tablesorter").tablesorterPager({container:b("#pager")});b(".tablesorter").tablesorter({sortMultiSortKey:"ctrlKey"})}b(".datepick").each(function(){b(this).datepicker({dateFormat:"yy-mm-dd",changeYear:true,yearRange:"1900:2100"})});var a=b("input.numeral");a.each(function(){b(this).val(thousandsSeparator(b(this).val()))});a.on("blur",function(){b(this).val(thousandsSeparator(b(this).val()))});a.on("focus",function(){b(this).val(thousandsUnseparator(b(this).val()))});b("form").submit(function(){a.each(function(){b(this).val(thousandsUnseparator(b(this).val()))})});b(":file").filestyle({buttonText:LANG.button_upload,size:"sm",buttonName:"btn-default",buttonBefore:true,placeholder:LANG.button_upload_empty});b(".form-group p").parents("fieldset").show();b(".chk_boxes").click(function(){b(".chk_boxes1").prop("checked",this.checked)});b(".glyphicon-remove").click(function(e){e.preventDefault();var d=b(this).data("type");var c;if(d==="employee-delete"){c=confirm(LANG.confirm_delete_employee)}else{if(d==="alert-delete"){c=confirm(LANG.confirm_delete_alert)}else{c=confirm(LANG.confirm_delete_record)}}if(c){window.location.href=(typeof(b(this).attr("href"))!=="undefined"?b(this).attr("href"):b(this).parent().attr("href"))}});b(".confirm, a[href]").confirm();b(document).on("click",".section_toggle",function(){if(b(this).hasClass("open")){b(this).removeClass("open")}else{b(this).addClass("open")}b(this).next().slideToggle()});b("#create_company").submit(function(){b('input[name="phone"]').val("+36"+b('select[name="area_code"]').val()+b('input[name="phone_no"]').val())});b('input[name="reg_office_postcode"]').keyup(function(){SetSettlementByPostCode(b(this).val(),b('input[name="reg_office_town"]'))})});function hrefClick(a){window.document.location=a}function purifyLetters(a,f){a=a.toLowerCase();var d="áéíóöőúüű",c="aeiooouuu";if(typeof f!=="undefined"){d+=f.search;c+=f.replace}for(var b=0;b<=d.length-1;b++){var e=new RegExp(d[b],"g");a=a.replace(e,c[b])}return a}function SetSettlementByPostCode(a,b){if(a.length===4){var d=false;var c;if(!d){d=true;jQuery.ajax({url:base_url+"assets/js/locations.hu.json",dataType:"json",success:function(e){jQuery.each(e,function(g,f){jQuery.each(f,function(i,h){c=h.address.filter(function(j,k){return j.zip_code===parseInt(a)})})});jQuery.each(c,function(g,f){b.val(f.settlement)})},complete:function(){d=false},error:function(f){console.log(f)}})}}}function thousandsSeparator(a){if(typeof(a)==="string"){a=a.replace(/[\D\s\._\-]+/g,"");a=a?parseInt(a,10):0}return a.toLocaleString("hu-HU")}function thousandsUnseparator(a){return a.replace(/[\D\s\._\-]+/g,"")};